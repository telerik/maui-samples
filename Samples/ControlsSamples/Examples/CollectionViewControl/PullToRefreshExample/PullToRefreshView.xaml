<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:telerik="http://schemas.telerik.com/2022/xaml/maui"
             xmlns:markupExtensions="clr-namespace:QSF.MarkupExtensions"
             x:Class="QSF.Examples.CollectionViewControl.PullToRefreshExample.PullToRefreshView"
             Padding="{OnIdiom Default='16, 20', Phone=0}">
    <Grid RowDefinitions="Auto, *">
        <telerik:RadTemplatedButton IsVisible="{OnPlatform Default=False, MacCatalyst=True, WinUI=True}"
                                    IsEnabled="{Binding IsRefreshing, Converter={StaticResource InvertedBooleanConverter}}"
                                    Content="Refresh Data"
                                    Command="{Binding RefreshCommand}"
                                    Margin="0, 0, 0, 20"
                                    HorizontalOptions="Start" />
        <RefreshView Grid.Row="1"
                     RefreshColor="{DynamicResource DefaultTextColor}"
                     IsRefreshing="{Binding IsRefreshing}"
                     Command="{Binding RefreshCommand}"
                     HorizontalOptions="Start"
                     AutomationId="pullToRefreshButton" >
            <telerik:RadCollectionView ItemsSource="{Binding Recipes}"
                                       ItemViewStyle="{StaticResource CollectionViewItemStyle}"
                                       AutomationId="collectionView">
                <telerik:RadCollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="Auto, *"
                              Padding="{OnPlatform Default=12, Android='16, 8', iOS='16, 8'}"
                              ColumnSpacing="{OnPlatform Default=8, Android=16, iOS=16}">
                            <telerik:RadBorder HeightRequest="48"
                                               WidthRequest="48"
                                               BackgroundColor="{markupExtensions:TelerikThemeExtension Default='#1F040405',
                                                                                                        PlatformLight='#1F7C59B6',
                                                                                                        PlatformDark='#2E1E47',
                                                                                                        TelerikMain='#99CCCCCC',
                                                                                                        TelerikOceanBlue='#99CCCCCC',
                                                                                                        TelerikPurple='#99CCCCCC',
                                                                                                        TelerikTurquoise='#99CCCCCC'}"
                                               CornerRadius="8">
                                <Label Text="{Binding Icon}"
                                       TextColor="{DynamicResource AccentColor8}"
                                       FontSize="16"
                                       FontFamily="TelerikFontExamples"
                                       VerticalTextAlignment="Center"
                                       HorizontalTextAlignment="Center" />
                            </telerik:RadBorder>
                            <VerticalStackLayout Grid.Column="1"
                                                 Spacing="{OnIdiom Default=8, Desktop=0}">
                                <Label Text="{Binding Name}"
                                       TextColor="{DynamicResource DefaultTextColor}"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       AutomationId="nameLabel" />
                                <Label Text="{Binding Description}"
                                       TextColor="{DynamicResource DefaultTextColor}"
                                       AutomationId="descriptionLabel" />
                            </VerticalStackLayout>
                        </Grid>
                    </DataTemplate>
                </telerik:RadCollectionView.ItemTemplate>
            </telerik:RadCollectionView>
        </RefreshView>
    </Grid>
</ContentView>
